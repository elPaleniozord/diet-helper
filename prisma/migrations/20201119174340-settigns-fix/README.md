# Migration `20201119174340-settigns-fix`

This migration has been generated by elPaleniozord at 11/19/2020, 6:43:40 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
Begin;
CREATE TYPE "public"."Gender_new" AS ENUM ('Male', 'Female');
ALTER TABLE "public"."users_data" ALTER COLUMN "gender" TYPE "Gender_new" USING ("gender"::text::"Gender_new");
ALTER TYPE "Gender" RENAME TO "Gender_old";
ALTER TYPE "Gender_new" RENAME TO "Gender";
DROP TYPE "Gender_old";
Commit

ALTER TABLE "public"."users_data" ADD COLUMN "activity" text   ,
ALTER COLUMN "height" SET DATA TYPE Decimal(65,30) ,
ALTER COLUMN "weight" SET DATA TYPE Decimal(65,30) ,
ALTER COLUMN "bmr" SET DATA TYPE Decimal(65,30) ,
ALTER COLUMN "tdee" SET DATA TYPE Decimal(65,30) 
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201118214128..20201119174340-settigns-fix
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -72,15 +72,16 @@
 model UserData {
   id          Int     @default(autoincrement()) @id
   user        User    @relation(fields:  [userId], references: [id])
   userId      Int
-  height      Int?
-  weight      Int?
+  activity    String?
+  height      Float?
+  weight      Float?
   age         Int?
   gender      Gender?
   goal        String?
-  bmr         Int?
-  tdee        Int?
+  bmr         Float?
+  tdee        Float?
   kcal        Int?
   prot        Int?
   carb        Int?
   fats        Int?
@@ -108,7 +109,7 @@
   ADMIN
 }
 enum Gender {
-  MALE
-  FEMALE
+  Male
+  Female
 }
```


